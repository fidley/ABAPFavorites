<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
  <extension
         point="org.eclipse.ui.menus">
   <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.navigator.ProjectExplorer#PopupMenu?after=additions">
             <menu label="ABAP Project"
             	icon="platform:/plugin/com.sap.adt.tools.core.ui/icons/obj/abap_application.png">
         <command
               commandId="com.abapblog.adt.extension.commands.LogToAllSAPSystems"
               style="push">
                <visibleWhen
                   checkEnabled="false">
                <or>
                   <iterate
                         ifEmpty="false"
                         operator="or">
                      <and>
                         <adapt
                               type="org.eclipse.core.resources.IProject">
                            <test
                                  property="org.eclipse.core.resources.projectNature"
                                  value="com.sap.adt.abapnature">
                            </test>
                         </adapt>
                      </and>
                   </iterate>
                   <and>
                      <adapt
                            type="java.util.Collection">
                         <count
                               value="0">
                         </count>
                      </adapt>
                      <with
                            variable="activeContexts">
                         <iterate
                               operator="or">
                            <equals
                                  value="com.sap.adt.tools.core.ui.abap">
                            </equals>
                         </iterate>
                      </with>
                   </and>
                </or>
             </visibleWhen>
         </command>
<command
               commandId="com.abapblog.adt.extension.commands.ChangeLogonLanguage"
               style="push">
                <visibleWhen
                   checkEnabled="false">
                <or>
                   <iterate
                         ifEmpty="false"
                         operator="or">
                      <and>
                         <adapt
                               type="org.eclipse.core.resources.IProject">
                            <test
                                  property="org.eclipse.core.resources.projectNature"
                                  value="com.sap.adt.abapnature">
                            </test>
                         </adapt>
                      </and>
                   </iterate>
                   <and>
                      <adapt
                            type="java.util.Collection">
                         <count
                               value="0">
                         </count>
                      </adapt>
                      <with
                            variable="activeContexts">
                         <iterate
                               operator="or">
                            <equals
                                  value="com.sap.adt.tools.core.ui.abap">
                            </equals>
                         </iterate>
                      </with>
                   </and>
                </or>
             </visibleWhen>
         </command>
<command
               commandId="com.abapblog.adt.extension.commands.ChangeUser"
               style="push">
                <visibleWhen
                   checkEnabled="false">
                <or>
                   <iterate
                         ifEmpty="false"
                         operator="or">
                      <and>
                         <adapt
                               type="org.eclipse.core.resources.IProject">
                            <test
                                  property="org.eclipse.core.resources.projectNature"
                                  value="com.sap.adt.abapnature">
                            </test>
                         </adapt>
                      </and>
                   </iterate>
                   <and>
                      <adapt
                            type="java.util.Collection">
                         <count
                               value="0">
                         </count>
                      </adapt>
                      <with
                            variable="activeContexts">
                         <iterate
                               operator="or">
                            <equals
                                  value="com.sap.adt.tools.core.ui.abap">
                            </equals>
                         </iterate>
                      </with>
                   </and>
                </or>
             </visibleWhen>
         </command>
<command
               commandId="com.abapblog.adt.extension.commands.ChangeClient"
               style="push">
                <visibleWhen
                   checkEnabled="false">
                <or>
                   <iterate
                         ifEmpty="false"
                         operator="or">
                      <and>
                         <adapt
                               type="org.eclipse.core.resources.IProject">
                            <test
                                  property="org.eclipse.core.resources.projectNature"
                                  value="com.sap.adt.abapnature">
                            </test>
                         </adapt>
                      </and>
                   </iterate>
                   <and>
                      <adapt
                            type="java.util.Collection">
                         <count
                               value="0">
                         </count>
                      </adapt>
                      <with
                            variable="activeContexts">
                         <iterate
                               operator="or">
                            <equals
                                  value="com.sap.adt.tools.core.ui.abap">
                            </equals>
                         </iterate>
                      </with>
                   </and>
                </or>
             </visibleWhen>
         </command>
         </menu>
        </menuContribution>
         </extension>
      <extension
            point="org.eclipse.ui.commands">
            <command id="com.abapblog.adt.extension.commands.LogToAllSAPSystems"
                     name="Logon to All SAP Systems"
                     defaultHandler="com.abapblog.adt.extension.commands.LogToAllSAPSystemsHandler"
                     >
                     </command>
      </extension>
            <extension
            point="org.eclipse.ui.commands">
            <command id="com.abapblog.adt.extension.commands.ChangeLogonLanguage"
                     name="Change Logon Language"
                     defaultHandler="com.abapblog.adt.extension.commands.ChangeLogonLanguageHandler"
                     >
                     </command>
      </extension>
            <extension
            point="org.eclipse.ui.commands">
            <command id="com.abapblog.adt.extension.commands.ChangeUser"
                     name="Change Logon User"
                     defaultHandler="com.abapblog.adt.extension.commands.ChangeUserHandler"
                     >
                     </command>
      </extension>
            <extension
            point="org.eclipse.ui.commands">
            <command id="com.abapblog.adt.extension.commands.ChangeClient"
                     name="Change Logon Client"
                     defaultHandler="com.abapblog.adt.extension.commands.ChangeClientHandler"
                     >
                     </command>
      </extension>
</plugin>

